{%extends 'userconfig/base.html' %}
{% load crispy_forms_tags %}
{% block content %}
	<button type="submit" class="btn btn-primary btn-block" style="width: 40rem;">Search Configuration</button>	
	<p></p>
	<div>
		<!-- <article class="media content-section"> -->
		<!-- <article class="form-group media content-section"> -->
		<div class="form-group content-section" style="width: 40rem;">
			<form method='GET'>
				{{ filter.form.as_p }}
			</form>	
		<!-- </article>	-->
		</div>
	</div>
	<div>
    {% for config in configs %}
		<div class="card card-fluid" style="width: 40rem;">
			<h5 class="card-header">
				<a class="card-link" href=" {% url 'config-detail' config.id %}">{{config.team}} Configuration</a>
			</h5>
			<div class="card-body">
				<div class="form-row">
					<label> Platform </label>
					<input type="text" class="form-control" disabled value={{config.platform}}>
					<label> Slack Channel: </label>
					<input type="text" class="form-control" disabled value={{config.slack_channel}}>
					<label> Email Address: </label>
					<input type="text" class="form-control" disabled value={{config.email_address}}>
					<label> Crash Count Bar : </label>
					<input type="text" class="form-control" disabled value={{config.crash_count}}>
					<label> Total User Affected: </label>
					<input type="text" class="form-control" disabled value={{config.total_user}}>
					<label> Files to Monitor: </label>
					<input type="text" class="form-control" disabled value={{config.files}}>
					<label> Keywords to Check: </label>
					<input type="text" class="form-control" disabled value={{config.keywords}}>
				</div>
			</div>
				<div class="card-body">
					<a class="btn btn-primary" href="{% url 'config-update' config.id %}">Update</a>
					<a class="btn btn-primary" href="{% url 'config-delete' config.id %}">Delete</a>
				</div>
			</div>
		</div>
	  	<blockquote class="blockquote mb-0">
   	    <p></p>
    	</blockquote>
    {% endfor %}

	<div class="footer">
		<ul class="pagination">
			{% if configs.has_previous %}
			<li class="page-item"><a class="page-link" href="?page=1">First</a></li>
			<li class="page-item"><a class="page-link" href="?page={{ configs.previous_page_number }}">Previous</a></li>
			{% endif %}

			{% for num in configs.paginator.page_range %}
				{% if configs.number == num %}
				<li class="page-item"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
				{% elif num > configs.number|add:'-3' and num < configs.number|add:'3' %}
				<li class="page-item"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
				{% endif %}
			{% endfor %}

			{% if configs.has_next %}
				<li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">Next</a></li>
				<li class="page-item"><a class="page-link" href="?page={{ page_obj.paginator.num_pages }}">Last</a></li>
			{% endif %}
			</ul>
	</div>

	</div>
{% endblock content%}

